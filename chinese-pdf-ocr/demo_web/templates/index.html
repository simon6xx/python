<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css"
          href="{{ url_for('static',filename='styles/vendor/bootstrap-5.2.0.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/index.css') }}">
    <title>Chinese PDF OCR</title>
    <style>
        .highlight {
            background-color: yellow; /* é«˜äº®é¢œè‰² */
        }

        .hidden {
            display: none;
        }

        #top-banner {
            margin-top: 80px; /* ä¸ºäº†ç»™è¿›åº¦æ¡ç•™å‡ºç©ºé—´ */
        }

        .button-row {
            margin-top: 10px; /* æ§ä»¶ä¹‹é—´çš„é—´è· */
        }

        #scan-complete {
            text-align: center; /* å°†æ‰«æå®Œæˆçš„æ¶ˆæ¯å±…ä¸­ */
            margin-top: 20px; /* ç»™æ¶ˆæ¯ç•™å‡ºä¸€äº›ç©ºé—´ */
            font-size: 1.5em; /* è°ƒæ•´å­—ä½“å¤§å° */
        }

        /* OCR æ–‡æœ¬åŒºåŸŸæ ·å¼ */
        #ocr-text {
            border: 1px solid #dee2e6; /* æ·»åŠ è¾¹æ¡†ä»¥ä¸æœç´¢æ åŒºåˆ† */
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            width: 100%; /* å®½åº¦ä¸å®¹å™¨ä¸€è‡´ */
        }

        /* OCR æ–‡æœ¬å®¹å™¨æ ·å¼ */
        #ocr-text-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #f8f9fa; /* èƒŒæ™¯é¢œè‰²ä¸ Bootstrap çš„ light èƒŒæ™¯è‰²ä¸€è‡´ */
            padding: 10px; /* æ·»åŠ å†…è¾¹è· */
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); /* æ·»åŠ é¡¶éƒ¨é˜´å½±æ•ˆæœ */
        }

        /* æœç´¢æ¡†æ ·å¼ */
        #ocr-text-container .input-group {
            width: 100%; /* ç¡®ä¿è¾“å…¥ç»„åœ¨æœç´¢æ å†…å®½åº¦é€‚åº” */
        }

    </style>
</head>
<body>
<div id="top-banner" class="container justify-content-center fixed-top p-1">
    <div class="row text-center">
        <!-- æ–‡ä»¶ä¸Šä¼ å’Œé¡µé¢å¯¼èˆªæŒ‰é’® -->
        <div class="col-2">
            <label for="file" class="custom-file-upload">
                <i class="fa fa-cloud-upload"></i> Upload PDF
            </label>
            <input id="file" accept=".pdf" type="file"/>
        </div>
        <div class="col-3">
            <button id="prev" type="button" class="btn btn-primary w-75">Previous ğŸ”¼</button>
        </div>
        <div class="col-3">
            <button id="next" type="button" class="btn btn-primary w-75">ğŸ”½ Next</button>
        </div>
        <div class="col-2">
            <div class="row row-cols-sm-auto justify-content-center">
                <div class="col p-1">Page:</div>
                <div class="col p-1"><span id="page_num"></span></div>
                <div class="col p-1">/</div>
                <div class="col p-1"><span id="page_count"></span></div>
            </div>
        </div>
        <!-- OCR æŒ‰é’® -->
        <div class="col-2 button-row">
            <button id="do-ocr" type="button" class="btn btn-primary w-100">ğŸ“–ğŸ” OCR</button>
        </div>
        <div class="col-2 button-row">
            <button id="full-ocr" type="button" class="btn btn-primary w-60">ğŸ” Scan ALL</button>
        </div>
        <div class="col-4 button-row">
            <div class="input-group float-end">
                <input type="text" id="search-input-full" class="form-control w-60" placeholder="Search full text..." />
                <button id="search-btn-full" class="btn btn-secondary">Search Full Text</button>
            </div>
        </div>
    </div>
</div>

<div id="scan-progress" class="hidden">
    <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
             style="width: 0%;" id="progress-bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
</div>
<div id="scan-complete" class="hidden">Scan completed successfully!</div>

<!-- ä¸»è¦çš„ PDF å’Œ OCR å®¹å™¨ -->
<div id="main" class="container justify-content-center mt-5">
    <div class="row">
        <div class="col">
            <div id="canvas-layers" class="container w-100 p-0">
                <canvas id="pdf-layer"></canvas>
                <canvas id="ocr-layer"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- OCR æ–‡æœ¬å’Œæœç´¢åŒºåŸŸ -->
<div id="ocr-text-container">
    <div class="container">
        <div id="ocr-text" class="border p-2"></div>
        <div class="input-group mt-2">
            <input type="text" id="search-input" class="form-control" placeholder="Search text..." />
            <button id="search-btn" class="btn btn-secondary">Search</button>
        </div>
    </div>
</div>

<script src="{{ url_for('static',filename='scripts/vendor/jquery-3.6.0.min.js') }}"></script>
<script src="{{ url_for('static',filename='scripts/vendor/bootstrap-5.2.0.bundle.min.js') }}"></script>
<script src="{{ url_for('static',filename='scripts/vendor/pdf-2.15.214.js') }}"></script>
<script src="{{ url_for('static',filename='scripts/vendor/fabric-5.2.1.min.js') }}"></script>
<script src="{{ url_for('static',filename='scripts/vendor/bootstrap-alerts.js') }}"></script>
<script src="{{ url_for('static',filename='scripts/index.js') }}"></script>
</body>
</html>
